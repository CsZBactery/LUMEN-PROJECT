<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="manifest" href="/manifest.json">
  <title>LUMEN | Una novela de ciencia ficci√≥n sobre la conciencia y la rebeli√≥n</title>
  <meta name="description" content="En una ciudad ahogada por el ne√≥n, un descubrimiento amenaza con destruir el sistema. ¬øSer√° el amanecer de una nueva era o el fin de la humanidad? Lee el pr√≥logo gratis." />
  <meta property="og:title" content="LUMEN | Una novela Cyberpunk" />
  <meta property="og:description" content="Lee el pr√≥logo gratis. Compra la versi√≥n completa y participa en un sorteo." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://via.placeholder.com/1200x630.png?text=Portada+de+LUMEN" />
  <meta name="theme-color" content="#0ff" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0a0d12; --panel:#0f1520; --muted:#7aa2ff; --neon:#00f6ff; --accent:#ff3dbb; --ok:#40ffb4; --warn:#ffb020;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; color:#e6f2ff; background:radial-gradient(1200px 800px at 10% -10%, rgba(0,246,255,.08), transparent 60%), radial-gradient(1000px 700px at 110% 10%, rgba(255,61,187,.06), transparent 60%), var(--bg); font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;}
    a{color:var(--neon); text-decoration:none}
    header{position:sticky; top:0; backdrop-filter:saturate(160%) blur(8px); background:linear-gradient(180deg, rgba(10,13,18,.9), rgba(10,13,18,.6)); border-bottom:1px solid rgba(0,246,255,.12); z-index:10}
    .wrap{max-width:1100px; margin:0 auto; padding:16px}
    .brand{display:flex; gap:12px; align-items:center}
    .logo{width:36px; height:36px; border:2px solid var(--neon); box-shadow:0 0 12px var(--neon) inset, 0 0 18px rgba(0,246,255,.5); border-radius:6px}
    h1,h2{font-family:"Orbitron", monospace; letter-spacing:.02em}
    .hero{display:grid; grid-template-columns:1.1fr .9fr; gap:28px; align-items:center; padding:48px 16px 24px}
    .hero h1{font-size:clamp(28px, 3.8vw, 48px); margin:.2em 0}
    .tag{display:inline-block; border:1px solid rgba(0,246,255,.3); padding:6px 10px; border-radius:12px; color:var(--muted); background:rgba(15,21,32,.6)}
    .glass{background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02)); border:1px solid rgba(255,255,255,.12); border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,.4)}
    .cta{display:flex; flex-wrap:wrap; gap:12px; margin-top:18px}
    .btn{--glow:var(--neon); padding:12px 16px; border-radius:12px; border:1px solid rgba(255,255,255,.12); color:#0A0D12; background:linear-gradient(180deg, var(--glow), #aefbff); box-shadow:0 0 16px rgba(0,246,255,.4), inset 0 0 6px rgba(255,255,255,.3); font-weight:700}
    .btn.alt{--glow:var(--accent); background:linear-gradient(180deg, var(--glow), #ffc1ec);}
    .btn.ghost{color:var(--neon); background:transparent; border-color:rgba(0,246,255,.35)}
    .panel{padding:20px}
    .grid{display:grid; grid-template-columns:repeat(3,1fr); gap:16px}
    .card{padding:18px; border-radius:14px; background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)); border:1px solid rgba(255,255,255,.12)}
    .muted{color:#9fb7d2}
    .mono{font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size:.92em}
    .illus-img{aspect-ratio:4/3; width:100%; border-radius:12px; object-fit: cover; border:1px solid rgba(0,246,255,.2)}
    .giveaway{display:grid; grid-template-columns: 1fr 1fr; gap:16px}
    .code{white-space:pre-wrap; background:#0c1118; border:1px solid rgba(255,255,255,.12); padding:14px; border-radius:10px}
    footer{padding:28px 16px; color:#9fb7d2; text-align: center;}
    .btn, a, .card {
      transition: all 0.25s ease-in-out;
    }
    .btn:hover, a:hover {
      transform: translateY(-2px);
      filter: brightness(1.15);
    }
    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 35px rgba(0,0,0,.5);
    }
    @media (max-width:900px){ .hero{grid-template-columns:1fr; padding-top:28px} .grid{grid-template-columns:1fr} .giveaway{grid-template-columns:1fr}}
    .glitch{position:relative; display:inline-block}
    .glitch:before,.glitch:after{content:attr(data-text); position:absolute; left:0; top:0; opacity:.6}
    .glitch:before{transform:translate(2px,0); color:var(--accent)}
    .glitch:after{transform:translate(-2px,0); color:var(--neon)}
  </style>
</head>
<body>
  <header>
    <div class="wrap brand">
      <div class="logo" aria-hidden="true"></div>
      <div>
        <strong>LUMEN: ONE‚ÄëSHOT</strong><br><span class="muted">Sci‚ÄëFi ¬∑ Cyberpunk filos√≥fico ¬∑ Drama psicol√≥gico</span>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section class="hero glass">
      <div class="panel">
        <span class="tag mono">Pr√≥logo piloto ‚Ä¢ Cap. 0‚Äì1</span>
        <h1><span class="glitch" data-text="Distop√≠a sociopol√≠tica">Distop√≠a sociopol√≠tica</span> con alma <em>cyberpunk</em></h1>
        <p class="muted">Formato A4 ¬∑ 25‚Äì40 p√°gs ¬∑ Doble espacio ¬∑ Fuente 12 ‚Äî Con ilustraciones originales.</p>
        <div class="cta">
          <a class="btn" href="#preview" id="btn-leer" aria-label="Leer gratis el pr√≥logo de la novela">üìñ Leer gratis</a>
          <a class="btn alt" href="#comprar" id="btn-comprar" aria-label="Comprar la versi√≥n completa de la novela">üõí Comprar completo</a>
          <a class="btn ghost" href="#registro" id="btn-registro" aria-label="Registrarse en el sorteo">üéÅ Participa en el sorteo</a>
        </div>
      </div>
      <div class="panel">
        <img src="Assets/illus.png" alt="Ilustraci√≥n de la portada de la novela LUMEN" class="illus-img">
      </div>
    </section>

    <section id="preview" class="panel" style="margin-top:22px">
      <h2>Lee gratis el pr√≥logo</h2>
      <p class="muted">Suficiente para enganchar, sin spoilers mayores.</p>
      <div class="card">
        <p><strong>Cap√≠tulo 0 ‚Äî Boot</strong><br>
        Cuando el cielo de ne√≥n parpade√≥ por tercera vez, el barrio supo que alguien hab√≠a reiniciado la ciudad. Las l√≠neas del metro se curvaron como si el mapa estuviera vivo; los anuncios cambiaron de idioma; y el viejo distribuidor de ox√≠geno, con sus cuchillas cromadas, comenz√≥ a cantar una canci√≥n que nadie recordaba haber aprendido‚Ä¶</p>
        <details>
          <summary class="muted" style="cursor: pointer;">Seguir leyendo (extracto)‚Ä¶</summary>
          <p>El resto del avance va aqu√≠. Reemplaza este texto por ~600‚Äì1200 palabras del pr√≥logo.</p>
        </details>
      </div>
    </section>

    <section id="comprar" class="panel" style="margin-top:22px">
      <h2>Compra la versi√≥n completa</h2>
      <div class="grid">
        <div class="card">
          <h3>Edici√≥n Digital (PDF)</h3>
          <p class="muted">Descarga inmediata. Ilustraciones en alta resoluci√≥n.</p>
          <a class="btn alt" href="https://TU-LINK-DE-PAGO-AQUI" target="_blank" rel="noopener">Comprar ahora</a>
        </div>
        <div class="card">
          <h3>Edici√≥n F√≠sica (bajo demanda)</h3>
          <p class="muted">Tapa blanda. Entrega estimada en 7‚Äì14 d√≠as.</p>
          <a class="btn" href="https://TU-LINK-DE-IMPRESION-AQUI" target="_blank" rel="noopener">Reservar impresi√≥n</a>
        </div>
        <div class="card">
          <h3>Participa en el sorteo</h3>
          <p class="muted">Reg√≠strate para participar por 3 juegos digitales y recibe el enlace de compra por correo.</p>
          <a class="btn ghost" href="#registro">Ir al formulario</a>
        </div>
      </div>
    </section>

    <section id="registro" class="panel" style="margin-top:22px">
      <h2>Sorteo: 3 juegos digitales</h2>
      <div class="giveaway">
        <div class="card">
          <p class="muted">Completa el formulario para quedar registrado. Cada compra verificada te da un boleto extra para el sorteo.</p>
          <a class="btn alt" id="btn-form" href="https://TU-LINK-DE-GOOGLE-FORMS" target="_blank" rel="noopener">Abrir formulario de registro</a>
        </div>
        <div class="card">
          <h3>Reglas r√°pidas</h3>
          <ul>
            <li>Elegibles todas las personas registradas.</li>
            <li>3 ganadores elegidos al azar en la fecha anunciada.</li>
            <li>El premio es un c√≥digo digital (Steam/Epic/etc.).</li>
          </ul>
        </div>
      </div>
    </section>

    <section id="qr" class="panel" style="margin-top:22px">
      <h2>C√≥digo QR</h2>
      <p class="muted">Un QR que apunta a esta p√°gina, ideal para incluir en la versi√≥n f√≠sica o digital de tu libro.</p>
      <div class="card" style="display: flex; flex-direction: column; align-items: center;">
        <div id="qrcode"></div>
        <button class="btn ghost" id="btn-dl" style="margin-top:10px">Descargar PNG</button>
      </div>
    </section>

  </main>

  <footer class="wrap muted">
    ¬© <span id="year"></span> LUMEN One‚ÄëShot. ¬∑ <a href="#comprar">Comprar</a> ¬∑ <a href="#preview">Leer Pr√≥logo</a>
  </footer>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js" integrity="sha512-Y5t8s8qQIS8t4sZ9xH5f6J0Eo2QmFG9t1mL2F4mQnKf5m7F9d7JQh2Jq2b3vB5J0tTt8r8z2Z2Qkqf5m8nq+Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script>
    (function(){
      document.getElementById('year').textContent = new Date().getFullYear();
      
      const qrelem = document.getElementById('qrcode');
      const url = (location.origin + location.pathname + '?ref=qr');
      let qr;

      function makeQR(){
        qrelem.innerHTML='';
        qr = new QRCode(qrelem, { text: url, width: 220, height: 220, colorDark: '#e6f2ff', colorLight: 'transparent', correctLevel: QRCode.CorrectLevel.H });
      }

      makeQR();

      document.getElementById('btn-dl').addEventListener('click', function(){
        if(!qr){ makeQR(); }
        const img = qrelem.querySelector('img');
        if(!img) return;
        const a = document.createElement('a');
        a.href = img.src; a.download = 'qr-lumen-novela.png'; a.click();
      });
    })();
  </script>

  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(registration => {
            console.log('‚úÖ Service Worker registrado con √©xito:', registration.scope);
          })
          .catch(error => {
            console.log('‚ùå Error al registrar el Service Worker:', error);
          });
      });
    }
  </script>

</body>
</html>